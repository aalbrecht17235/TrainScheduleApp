<!DOCTYPE html>

<html lang="en-us">

<head>

  <meta charset="UTF-8">
  <title>Employee Tracker</title>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Bootstrap CDN-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

  <!-- Firebase Reference -->
  <script src="https://www.gstatic.com/firebasejs/5.5.7/firebase.js"></script>


  <style>
      .jumbotron{
        color:white;
      }
  </style>

</head>

<body>

  <div class="container">

    <br>

    <!-- Jumbotron Title -->
    <div class="jumbotron navbar-dark bg-dark">
      <h1 class="text-center">Employee Data Management</h1>
      <h3 class="text-center">A Comprehensive Directory of Employee Billable Hours</h3>
    </div>

   
       <!-- Current Employees -->
       <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-header">
              Current Employees
            </div>
            <div class="card-body">
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Employee Name</th>
                        <th scope="col">Role</th>
                        <th scope="col">Start Date</th>
                        <th scope="col">Months Worked</th>
                        <th scope="col">Monthly Rate ($)</th>
                        <th scope="col">Total Billed ($)</th>
                      </tr>
                    </thead>
                    <tbody id="tableBody">
                    
                    </tbody>
                  </table>
            </div>
          </div>
        </div>
  
      </div>
      <br>
      <br>

    <!-- ADd Employees Form -->
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-header">
            Add Employee
          </div>
          <div class="card-body">
            <form>
              <div class="form-group row">
                <label for="bidder-name">Employee Name</label>
                <input class="form-control" id="employee-name" type="text" placeholder="Jane Doe">
              </div>
              <div class="form-group row">
                <label for="bidder-price">Role</label>
                <input class="form-control" id="role" type="text" placeholder="Your Role">
              </div>
              <div class="form-group row">
                <label for="bidder-price">Start Date (MM/DD/YYYY)</label>
                <input class="form-control" id="start-date" type="date" placeholder="01/01/1700">
              </div>
              <div class="form-group row">
                <label for="bidder-price">Monthly Rate</label>
                <input class="form-control" id="monthly-rate" type="number" placeholder="Your Monthly Rate">
              </div>
              <button class="btn btn-primary" id="submit-form" type="submit">Submit</button>
            </form>
          </div>
        </div>
      </div>

    </div>

  </div>

  <!-- JavaScript -->

 

  <script>

  // Initialize Firebase
  var config = {
  apiKey: "AIzaSyDqGwtpv1GP9PucOlppoVRmdMopq-cxn-I",
  authDomain: "invertible-hook-221019.firebaseapp.com",
  databaseURL: "https://invertible-hook-221019.firebaseio.com",
  projectId: "invertible-hook-221019",
  storageBucket: "invertible-hook-221019.appspot.com",
  messagingSenderId: "899783432869"
};

firebase.initializeApp(config);


// Assign the reference to the database to a variable named 'database'
var database = firebase.database();


  $("#submit-form").on("click", function (event) {
        event.preventDefault();

        employeeName = $("#employee-name").val().trim();
        role = $("#role").val().trim();
        startDate = $("#start-date").val().trim();
        monthlyRate = $("#monthly-rate").val().trim();

        let newRow = $("<tr>");
        let newEmployee = $("<td>" + employeeName+"</td>");
        let newRole = $("<td>" + role+"</td>");
        let monthsWorked = $("<td>" + "Monthly Rate"+"</td>");
        let newStartDate = $("<td>" + startDate+"</td>");
        
        let newRate = $("<td>" + monthlyRate+"</td>");


        // newEmployee.append(employeeName);
        newRow.append(newEmployee).append(newRole).append(newStartDate).append(monthsWorked).append(newRate);
        $("#tableBody").append(newRow);


        database.ref().push({
          name: newEmployee,
          role: newRole,
          startDate: newStartDate,
          monthsWorked: monthsWorked,
          rate: newRate
      })

    });

  </script>
  <!-- <script src="logic.js"></script> -->

</body>

</html>
